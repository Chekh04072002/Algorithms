M1 = [[3, -1, 1, 0],
      [3, 5, 1, 12],
      [-1, 2, 4, -1]]
# B = [0, 12, -1]
if M1[0][0] == 0 or M1[1][1] == 0:
      print('0 на диагонали')

#Первый шаг
l21 = M1[1][0] / M1[0][0]
l31 = M1[2][0] / M1[0][0]

for i in range(len(M1[1])):
      M1[1][i] = M1[1][i] - (M1[0][i] * l21)
      M1[2][i] = M1[2][i] - (M1[0][i] * l31)

#Второй шаг
l32 = M1[2][1] / M1[1][1]
for q in range(1, len(M1[2])):
      M1[2][q] = M1[2][q] - (M1[1][q] * l32)

#Проб
l23 = M1[1][2] / M1[2][2]
l13 = M1[0][2] / M1[2][2]
for w in range(len(M1[1])):
      M1[1][w] = M1[1][w] - (M1[2][w] * l23)
      M1[0][w] = M1[0][w] - (M1[2][w] * l13)

l12 = M1[0][1] / M1[1][1]
for e in range(len(M1[0])):
      M1[0][e] = M1[0][e] - (M1[1][e] * l12)

#Обратный
x3 = M1[2][3] / M1[2][2]
x2 = (M1[1][3] - x3 * M1[1][2]) / M1[1][1]
x1 = (M1[0][3] - x3 * M1[0][2] - x2 * M1[0][1]) / M1[0][0]
print(M1[0])
print(M1[1])
print(M1[2])
print('x1 =', x1)
print('x2 =', x2)
print('x3 =', x3)





# count = 0
# M1 = [[3, -1, 1, 0],
#       [3, 5, 1, 12],
#       [-1, 2, 4, -1]]
#
# e = 0.000000000001
#
# B = [M1[0][3] / M1[0][0], M1[1][3] / M1[1][1], M1[2][3] / M1[2][2]]
#
#
# x1 = (M1[0][3] - M1[0][2] - M1[0][1]) / M1[0][0]
# x2 = (M1[1][3] - M1[1][2] - M1[1][0]) / M1[1][1]
# x3 = (M1[2][3] - M1[2][0] - M1[2][1]) / M1[2][2]
#
# x10 = 0
# x20 = 12
# x30 = -1
#
# x100 = 0
# x200 = 0
# x300 = 0
#
# for i in range(1000):
#       x10 = (M1[0][3] - (M1[0][2] * x30) - (M1[0][1] * x20)) / M1[0][0]
#       x20 = (M1[1][3] - (M1[1][2] * x30) - (M1[1][0] * x10)) / M1[1][1]
#       x30 = (M1[2][3] - (M1[2][0] * x10) - (M1[2][1] * x20)) / M1[2][2]
#
#       count += 1
#
#       if abs(x10 - x100) < e and abs(x20 - x200) < e and abs(x30 - x300) < e:
#             break
#       else:
#
#             x100 = x10
#             x200 = x20
#             x300 = x30
# print('x1 =', x10)
# print('x2 =', x20)
# print('x3 =', x30)
# print('Кол-во итераций:', count)

